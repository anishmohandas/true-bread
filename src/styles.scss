/* Import fonts */
@import 'styles/fonts';

/* Tailwind directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Abstracts */
@import 'abstracts/variables';
@import 'abstracts/mixins';

/* Base styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* Components can override Tailwind classes using @layer */
@layer components {
  .article-card {
    @apply transition-all duration-300;
  }

  .article-title {
    @apply text-2xl font-semibold text-black mb-3 leading-tight;
    font-family: 'Poppins', sans-serif;
  }
}

/* Global styles */
.container {
  width: 100%;
  max-width: min(1200px, 100vw); /* Ensure container never exceeds viewport */
  margin: 0 auto;
  padding: 0 1rem;
  box-sizing: border-box; /* Include padding in width calculation */
}

/* Prevent any element from causing horizontal overflow */
* {
  max-width: 100%;
  box-sizing: border-box;
}

/* Specific fix for large text elements */
h1, h2, h3, h4, h5, h6 {
  max-width: 100%;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

body {
  margin: 0;
  font-family: Roboto, "Helvetica Neue", sans-serif;
  overflow-y: scroll;
  overflow-x: hidden !important; // Force hide horizontal scrollbar
  -webkit-overflow-scrolling: touch;
  position: relative;
  max-width: 100vw; // Prevent body from exceeding viewport width
}

/* NATIVE SCROLLING ENABLED - Show scrollbars and enable normal scrolling */

/* Enable native scrolling for html and body */
html, body {
  margin: 0;
  padding: 0;
  overflow-y: auto; /* Enable vertical scrolling */
  overflow-x: hidden !important; /* Force hide horizontal scrollbar */
  touch-action: auto; /* Allow normal touch behavior */
  -webkit-overflow-scrolling: touch; /* Enable smooth scrolling on iOS */
  height: auto; /* Allow natural height */
  scroll-behavior: smooth; /* Smooth scrolling for anchor links and programmatic scrolling */
  max-width: 100vw; /* Prevent exceeding viewport width */
  box-sizing: border-box; /* Include padding in width calculation */
}

/* Update smooth-scroll container for native scrolling */
.smooth-scroll {
  position: relative; /* Changed from fixed */
  overflow: visible; /* Enable scrolling */
  touch-action: auto; /* Allow normal touch behavior */
}

.smooth-scroll-content {
  position: relative;
  touch-action: auto; /* Allow normal touch behavior */
  margin: 0;
  padding: 0;
}

/* Ensure footer is properly positioned */
app-footer {
  display: block;
  width: 100%;
  max-width: 100vw; /* Prevent footer from exceeding viewport width */
  position: relative;
  z-index: 1;
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* Hide any horizontal overflow in footer */
  box-sizing: border-box; /* Include padding in width calculation */
}

/* Show scrollbars - Enable native scrolling */
::-webkit-scrollbar {
  width: 8px; /* Show scrollbar */
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #555;
}

/* Hide scroll bar during preloader */
body:not(.components-loaded) {
  overflow: hidden !important;
  
  &::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
  }
  
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

html:not(.components-loaded) {
  overflow: hidden !important;
  
  &::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
  }
  
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

/* Hide scroll bar when menu is open */
body.menu-open {
  overflow: hidden !important;
  
  &::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
  }
  
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

html.menu-open {
  overflow: hidden !important;
  
  &::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
  }
  
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

/* Global scroll bar hiding during preloader and menu */
:not(.components-loaded) {
  ::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
  }
}

.menu-open {
  ::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
  }
}

/* Show scroll bar after preloader */
body.components-loaded {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  
  &::-webkit-scrollbar {
    display: block !important;
    width: 8px !important;
    background: #f1f1f1 !important;
  }
  
  scrollbar-width: thin !important;
  -ms-overflow-style: auto !important;
}

html.components-loaded {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  
  &::-webkit-scrollbar {
    display: block !important;
    width: 8px !important;
    background: #f1f1f1 !important;
  }
  
  scrollbar-width: thin !important;
  -ms-overflow-style: auto !important;
}

/* Ensure router-outlet has no margins or padding */
router-outlet {
  display: block;
  margin: 0;
  padding: 0;
}

/* Enable scrollbars for Firefox */
* {
  scrollbar-width: thin; /* Show thin scrollbars in Firefox */
  scrollbar-color: #888 #f1f1f1; /* thumb and track colors */
}
