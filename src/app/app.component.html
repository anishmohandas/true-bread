<!-- Preloader - shown only when preloader hasn't been  seen -->
<app-preloader *ngIf="!showComponents"></app-preloader>

<app-header *ngIf="showComponents && !isAdminRoute"></app-header>

<!-- Main content container with touch event handling -->
<div class="smooth-scroll" (touchstart)="onTouchStart($event)" (touchmove)="onTouchMove($event)"
  (touchend)="onTouchEnd()" (touchcancel)="onTouchCancel()">

  <!-- Scrollable content -->
  <div #scrollContent class="smooth-scroll-content no-gap" (touchstart)="onTouchStart($event)"
    (touchmove)="onTouchMove($event)" (touchend)="onTouchEnd()" (touchcancel)="onTouchCancel()">
    <div class="router-outlet-wrapper no-gap">
      <router-outlet></router-outlet>
    </div>
  </div>

  <!-- Footer positioned AFTER content -->
  <app-footer *ngIf="showComponents && !isAdminRoute" class="parallax-footer"></app-footer>
</div>

<!-- Clean Navigation Ball - Fixed to viewport - Hidden during preloader, menu open, and admin routes -->
<div class="navigation-ball" (click)="scrollToNextSection()" *ngIf="showComponents && !isMenuOpen && !isAdminRoute"
  [class.at-bottom]="isAtLastSection">
  <div class="ball">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <!-- Down arrow (default) -->
      <path *ngIf="!isAtLastSection" d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round"
        stroke-linejoin="round" />
      <!-- Up arrow (when at last section) -->
      <path *ngIf="isAtLastSection" d="M17 14L12 9L7 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"
        stroke-linejoin="round" />
    </svg>
  </div>
</div>