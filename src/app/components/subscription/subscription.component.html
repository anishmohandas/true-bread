
<section class="py-4 bg-warm-gray">
  <div class="container mx-auto px-6">
    <div class="max-w-7xl mx-auto">
      <!-- Two-column grid layout -->
      <div class="grid md:grid-cols-2 gap-8 items-center">
        <!-- Left column: Form -->
        <div class="text-left">
          <h2 class="text-5xl mb-10 font-poppins">Stay Connected</h2>
          <p class="text-xl text-stone-600 mb-8">
            Subscribe to us and never miss an issue
          </p>

          <form [formGroup]="subscriptionForm" (ngSubmit)="onSubmit()" 
                class="flex flex-col gap-4">
            <!-- Name Input -->
            <div class="flex-grow w-full">
              <div class="relative">
                <input type="text"
                       formControlName="name"
                       placeholder="name"
                       [class.border-red-500]="subscriptionForm.get('name')?.invalid && 
                                             subscriptionForm.get('name')?.touched"
                       class="w-full shadow appearance-none border rounded p-3 border-stone-100 focus:outline-none focus:border-stone-300">
              </div>
              
              <!-- Name Validation Message -->
              <div class="error-container">
                <div class="validation-message text-red-500 text-sm mt-2 pl-4"
                     [class.visible]="subscriptionForm.get('name')?.invalid && 
                                    subscriptionForm.get('name')?.touched"
                     [class.hidden]="!(subscriptionForm.get('name')?.invalid && 
                                     subscriptionForm.get('name')?.touched)">
                  {{ getNameErrorMessage() }}
                </div>
              </div>
            </div>

            <!-- Email Input -->
            <div class="flex-grow w-full">
              <div class="relative">
                <input type="email"
                       formControlName="email"
                       placeholder="email"
                       [class.border-red-500]="subscriptionForm.get('email')?.invalid && 
                                             subscriptionForm.get('email')?.touched"
                       class="w-full shadow appearance-none border rounded p-3 focus:shadow-outline border-stone-100 focus:outline-none focus:border-stone-300">
              </div>
              
              <!-- Email Validation Message -->
              <div class="error-container">
                <div class="validation-message text-red-500 text-sm mt-2 pl-4"
                     [class.visible]="subscriptionForm.get('email')?.invalid && 
                                    subscriptionForm.get('email')?.touched"
                     [class.hidden]="!(subscriptionForm.get('email')?.invalid && 
                                     subscriptionForm.get('email')?.touched)">
                  {{ getEmailErrorMessage() }}
                </div>
              </div>
            </div>

            <!-- Error and Success Messages -->
            <div class="w-full">
              <div class="error-container">
                <div class="validation-message text-red-500 text-sm mt-2 pl-4"
                     [class.visible]="error"
                     [class.hidden]="!error">
                  {{ error }}
                </div>
                
                <div class="validation-message text-green-500 text-sm mt-2 pl-4"
                     [class.visible]="success"
                     [class.hidden]="!success">
                  Successfully subscribed! Welcome to True Bread.
                </div>
              </div>
            </div>

            <!-- Submit Button -->
            <div class="mt-2">
              <button type="submit"
                      [disabled]="subscriptionForm.invalid || submitting"
                      class="px-8 py-3 bg-stone-800 text-white font-semibold 
                             hover:bg-stone-900 transition-colors duration-300 
                             disabled:opacity-50 disabled:cursor-not-allowed
                             flex items-center justify-center min-w-[120px]">
                <span *ngIf="!submitting">Subscribe</span>
                <div *ngIf="submitting" 
                     class="w-5 h-5 border-t-2 border-b-2 border-white animate-spin">
                </div>
              </button>
            </div>
          </form>
        </div>

        <!-- Right column: GIF -->
        <div class="h-full w-full flex items-center justify-center">
          <div class="w-[150%] aspect-square relative -mr-20">
            <video 
              autoplay 
              loop 
              muted 
              playsinline
              class="absolute inset-0 w-full h-full object-contain">
              <source src="assets/images/subs-true-bread.mp4" type="video/mp4">
            </video>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>














